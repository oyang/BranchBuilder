$def with (build_configs, site_url)
$var cssfiles: /static/bootstrap/css/bootstrap.css /static/codemirror/lib/codemirror.css /static/bootstrap/css/custom.css
$var site_url: $site_url

	<textarea id="build_config_content"  name="code_mirror" >${build_config["build_config_content"]}</textarea>
	<form class="well inline-form" method="post" action ="add" id="addBuildForm">
		<button id="footer_save "  type="submit" class="btn btn-primary pull-right">Save</button>
		<input type="hidden" id="add-id" class="required pull-right" name="id" value=${build_config["id"]} />
		<input type="text" id="add-author" class="required pull-right" name="author" placeholder="Author" value="${build_config['author']}" />
		<input type="text" id="add-version" class="required pull-right" name="version" placeholder="Mapped Version" value='${build_config["version"]}' />
	</form>
</div>
	<div class="modal hide fade" id="popupViewBuild" >
		<div class="modal-header">
			<a class="close" data-dismiss="modal" >x</a>
			<h3 id="popView-title">Loading build task, please wait or refresh current page!</h3>
			<input type="hidden" id="popView-selectAction" value="" />
			<input type="hidden" id="popView-selectBuildID" value="" />
		</div>
		<div class="modal-body">
			<form class="well form-horizontal" method="post" action ="add" id="popView-actionBuildForm">
				<fieldset>
					<div class="control-group">
						<label class="control-label" for="popView-repos">Repository URL:</label>
						<div class="controls">
							<input type="text" class="required" id="popView-repos" name="repos" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="popView-branch">Branch:</label>
						<div class="controls">
							<input type="text" id="popView-branch"  class="required" name="branch" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="popView-version">Mapped Version:</label>
						<div class="controls">
							<input type="text" id="popView-version" class="required" name="version" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="popView-package_list">Packages:</label>
						<div class="controls">
							<input type="text" id="popView-package_list" class="required" name="package_list" /><a href="#" id="package-help-info"><i class="icon-info-sign"></i></a>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="popView-author">Author:</label>
						<div class="controls">
							<input type="text" id="popView-author" class="required" name="author" />
						</div>
					</div>
					<div class="control-group" id="popView-control-status">
						<label class="control-label" for="popView-status">Status:</label>
						<div class="controls">
							<input type="text" readonly="readonly" id="popView-status" class="required" name="author" /><a id="popView-edit-status" href="#">edit</a>
						</div>
					</div>
				</fieldset>
			</form>
		</div>
		<div class="modal-footer">
			<a class="btn" href="#" data-dismiss="modal">Cancel</a>
			<a class="btn btn-primary" id="popView-Save" href="#">Save</a>
		</div>
	</div>		
	<div class="modal hide fade" id="popupViewMail" >
		<div class="modal-header">
			<a class="close" data-dismiss="modal" >x</a>
			<h3 id="popView-title">Send email to admin!</h3>
			<input type="hidden" id="popView-selectAction" value="" />
			<input type="hidden" id="popView-selectBuildID" value="" />
		</div>
		<div class="modal-body">
			<form class="well form-horizontal" method="post" action ="sendmail" id="popView-sendMailForm">
				<fieldset>
					<div class="control-group">
						<label class="control-label" for="popView-MailTo">To: </label>
						<div class="controls">
							<input readonly="readonly" type="text" class="required" id="popView-MailTo" name="to" value="oyang@sugarcrm.com" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="popView-MailFrom">From: </label>
						<div class="controls">
							<input type="text" class="required email" id="popView-MailFrom" name="from_address" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="popView-MailSubject">Subject: </label>
						<div class="controls">
							<input type="text" id="popView-MailSubject"  class="required" name="subject" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="popView-MailMessage">Message: </label>
						<div class="controls">
							<textarea id="popView-MailMessage" rows="9" cols="30"  class="required input-xlarge" name="message" ></textarea>
						</div>
					</div>
				</fieldset>
			</form>
		</div>
		<div class="modal-footer">
			<a class="btn" href="#" data-dismiss="modal">Cancel</a>
			<a class="btn btn-primary" id="popView-Send" href="#">Send</a>
		</div>
	</div>
    <script src="/static/bootstrap/js/jquery.min.js"></script>
    <script src="/static/bootstrap/js/jquery.validate.min.js"></script>
    <script src="/static/bootstrap/js/validate.js"></script>
    <script src="/static/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap-tooltip.js"></script>
    <script src="/static/bootstrap/js/bootstrap-popover.js"></script>
     <script src="/static/codemirror/lib/codemirror.js"></script>
    <script src="/static/codemirror/mode/xml/xml.js"></script>
    <script src="/static/codemirror/mode/javascript/javascript.js"></script>
    <script src="/static/codemirror/mode/clike/clike.js"></script>
    <script src="/static/codemirror/mode/css/css.js"></script>
    <script src="/static/codemirror/mode/php/php.js"></script>
   <script type="text/javascript">
      window.onload = function(){
        var editor = CodeMirror.fromTextArea(document.getElementById("code_area"), {
            mode:"text/x-php",
            indentUnit: 2,
            lineNumbers: true,
            matchBrackets: true,
	    lineWrapping: true
          });
      }
    </script>
